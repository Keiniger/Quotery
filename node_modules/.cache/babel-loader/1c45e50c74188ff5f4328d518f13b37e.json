{"ast":null,"code":"import _objectSpread from\"C:/Users/Fenjer/Programming/HTML-CSS-JS/Projects/react-complete-guide/react-router-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/Fenjer/Programming/HTML-CSS-JS/Projects/react-complete-guide/react-router-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Fenjer/Programming/HTML-CSS-JS/Projects/react-complete-guide/react-router-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Fenjer/Programming/HTML-CSS-JS/Projects/react-complete-guide/react-router-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useReducer,useCallback}from'react';function httpReducer(state,action){if(action.type==='SEND'){return{data:null,error:null,status:'pending'};}if(action.type==='SUCCESS'){return{data:action.responseData,error:null,status:'completed'};}if(action.type==='ERROR'){return{data:null,error:action.errorMessage,status:'completed'};}return state;}function useHttp(requestFunction){var startWithPending=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var _useReducer=useReducer(httpReducer,{status:startWithPending?'pending':null,data:null,error:null}),_useReducer2=_slicedToArray(_useReducer,2),httpState=_useReducer2[0],dispatch=_useReducer2[1];var sendRequest=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(requestData){var responseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:'SEND'});_context.prev=1;_context.next=4;return requestFunction(requestData);case 4:responseData=_context.sent;dispatch({type:'SUCCESS',responseData:responseData});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:'ERROR',errorMessage:_context.t0.message||'Something went wrong!'});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[requestFunction]);return _objectSpread({sendRequest:sendRequest},httpState);}export default useHttp;","map":{"version":3,"sources":["C:/Users/Fenjer/Programming/HTML-CSS-JS/Projects/react-complete-guide/react-router-project/src/hooks/use-http.js"],"names":["useReducer","useCallback","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","httpState","dispatch","sendRequest","requestData","message"],"mappings":"g0BAAA,OAASA,UAAT,CAAqBC,WAArB,KAAwC,OAAxC,CAEA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4BC,MAA5B,CAAoC,CAClC,GAAIA,MAAM,CAACC,IAAP,GAAgB,MAApB,CAA4B,CAC1B,MAAO,CACLC,IAAI,CAAE,IADD,CAELC,KAAK,CAAE,IAFF,CAGLC,MAAM,CAAE,SAHH,CAAP,CAKD,CAED,GAAIJ,MAAM,CAACC,IAAP,GAAgB,SAApB,CAA+B,CAC7B,MAAO,CACLC,IAAI,CAAEF,MAAM,CAACK,YADR,CAELF,KAAK,CAAE,IAFF,CAGLC,MAAM,CAAE,WAHH,CAAP,CAKD,CAED,GAAIJ,MAAM,CAACC,IAAP,GAAgB,OAApB,CAA6B,CAC3B,MAAO,CACLC,IAAI,CAAE,IADD,CAELC,KAAK,CAAEH,MAAM,CAACM,YAFT,CAGLF,MAAM,CAAE,WAHH,CAAP,CAKD,CAED,MAAOL,CAAAA,KAAP,CACD,CAED,QAASQ,CAAAA,OAAT,CAAiBC,eAAjB,CAA4D,IAA1BC,CAAAA,gBAA0B,2DAAP,KAAO,CAC1D,gBAA8Bb,UAAU,CAACE,WAAD,CAAc,CACpDM,MAAM,CAAEK,gBAAgB,CAAG,SAAH,CAAe,IADa,CAEpDP,IAAI,CAAE,IAF8C,CAGpDC,KAAK,CAAE,IAH6C,CAAd,CAAxC,4CAAOO,SAAP,iBAAkBC,QAAlB,iBAMA,GAAMC,CAAAA,WAAW,CAAGf,WAAW,0FAC7B,iBAAgBgB,WAAhB,mIACEF,QAAQ,CAAC,CAAEV,IAAI,CAAE,MAAR,CAAD,CAAR,CADF,sCAG+BO,CAAAA,eAAe,CAACK,WAAD,CAH9C,QAGUR,YAHV,eAIIM,QAAQ,CAAC,CAAEV,IAAI,CAAE,SAAR,CAAmBI,YAAY,CAAZA,YAAnB,CAAD,CAAR,CAJJ,+EAMIM,QAAQ,CAAC,CACPV,IAAI,CAAE,OADC,CAEPK,YAAY,CAAE,YAAMQ,OAAN,EAAiB,uBAFxB,CAAD,CAAR,CANJ,oEAD6B,+DAa7B,CAACN,eAAD,CAb6B,CAA/B,CAgBA,sBACEI,WAAW,CAAXA,WADF,EAEKF,SAFL,EAID,CAED,cAAeH,CAAAA,OAAf","sourcesContent":["import { useReducer, useCallback } from 'react';\n\nfunction httpReducer(state, action) {\n  if (action.type === 'SEND') {\n    return {\n      data: null,\n      error: null,\n      status: 'pending',\n    };\n  }\n\n  if (action.type === 'SUCCESS') {\n    return {\n      data: action.responseData,\n      error: null,\n      status: 'completed',\n    };\n  }\n\n  if (action.type === 'ERROR') {\n    return {\n      data: null,\n      error: action.errorMessage,\n      status: 'completed',\n    };\n  }\n\n  return state;\n}\n\nfunction useHttp(requestFunction, startWithPending = false) {\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? 'pending' : null,\n    data: null,\n    error: null,\n  });\n\n  const sendRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: 'SEND' });\n      try {\n        const responseData = await requestFunction(requestData);\n        dispatch({ type: 'SUCCESS', responseData });\n      } catch (error) {\n        dispatch({\n          type: 'ERROR',\n          errorMessage: error.message || 'Something went wrong!',\n        });\n      }\n    },\n    [requestFunction]\n  );\n\n  return {\n    sendRequest,\n    ...httpState,\n  };\n}\n\nexport default useHttp;\n"]},"metadata":{},"sourceType":"module"}